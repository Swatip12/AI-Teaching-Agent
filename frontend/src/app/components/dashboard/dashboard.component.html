<div class="dashboard-container">
  <div class="welcome-section">
    <h1>Welcome back, {{ currentUser?.username }}!</h1>
    <p>Ready to continue your programming journey? Choose a subject to get started.</p>
  </div>

  <div class="subjects-section" *ngIf="!isLoading">
    <h2>Available Subjects</h2>
    <div class="subjects-grid">
      <mat-card 
        *ngFor="let subject of subjects" 
        class="subject-card"
        [class.accessible]="subject.isAccessible"
        [class.locked]="!subject.isAccessible"
        (click)="selectSubject(subject)">
        
        <mat-card-header>
          <mat-icon mat-card-avatar>{{ getSubjectIcon(subject.name) }}</mat-icon>
          <mat-card-title>{{ subject.name }}</mat-card-title>
          <mat-card-subtitle>{{ subject.description }}</mat-card-subtitle>
        </mat-card-header>
        
        <mat-card-content>
          <div class="subject-info">
            <mat-chip-set>
              <mat-chip [color]="getDifficultyColor(subject.difficulty)" selected>
                {{ subject.difficulty }}
              </mat-chip>
            </mat-chip-set>
            
            <div class="prerequisites" *ngIf="subject.prerequisites.length > 0">
              <p><strong>Prerequisites:</strong></p>
              <ul>
                <li *ngFor="let prereq of subject.prerequisites">{{ prereq }}</li>
              </ul>
            </div>
            
            <div class="no-prerequisites" *ngIf="subject.prerequisites.length === 0">
              <p class="beginner-friendly">âœ¨ Perfect for beginners - no prerequisites needed!</p>
            </div>
          </div>
        </mat-card-content>
        
        <mat-card-actions>
          <button 
            mat-raised-button 
            [color]="subject.isAccessible ? 'primary' : 'basic'"
            [disabled]="!subject.isAccessible">
            <mat-icon *ngIf="!subject.isAccessible">lock</mat-icon>
            <mat-icon *ngIf="subject.isAccessible">play_arrow</mat-icon>
            {{ subject.isAccessible ? 'Start Learning' : 'Locked' }}
          </button>
        </mat-card-actions>
      </mat-card>
    </div>
  </div>

  <div class="loading-section" *ngIf="isLoading">
    <mat-progress-bar mode="indeterminate"></mat-progress-bar>
    <p>Loading your learning dashboard...</p>
  </div>

  <div class="empty-state" *ngIf="!isLoading && subjects.length === 0">
    <mat-icon class="empty-icon">school</mat-icon>
    <h3>No subjects available</h3>
    <p>Subjects will appear here once they're configured by your instructor.</p>
  </div>
</div>